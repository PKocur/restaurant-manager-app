{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport class AuthorizationUtil {\n  static getBearerToken() {\n    return localStorage.getItem(\"bearerToken\");\n  }\n  static getDecodedBearerToken() {\n    try {\n      return jwt_decode(this.getBearerToken());\n    } catch (Error) {\n      return null;\n    }\n  }\n  static validateUserRoleForApp(token, requiredRole) {\n    try {\n      const decodedToken = jwt_decode(token);\n      const roles = decodedToken.roles;\n      return roles.includes(requiredRole);\n    } catch (Error) {\n      return false;\n    }\n  }\n}","map":{"version":3,"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,OAAM,MAAOC,iBAAiB;EAErB,OAAOC,cAAc;IAC1B,OAAOC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAC5C;EAEO,OAAOC,qBAAqB;IACjC,IAAI;MACF,OAAOL,UAAU,CAAS,IAAI,CAACE,cAAc,EAAE,CAAC;KACjD,CAAC,OAAOI,KAAK,EAAE;MACd,OAAO,IAAI;;EAEf;EAEO,OAAOC,sBAAsB,CAACC,KAAa,EAAEC,YAAoB;IACtE,IAAI;MACF,MAAMC,YAAY,GAAQV,UAAU,CAACQ,KAAK,CAAC;MAC3C,MAAMG,KAAK,GAAWD,YAAY,CAACC,KAAK;MACxC,OAAOA,KAAK,CAACC,QAAQ,CAACH,YAAY,CAAC;KACpC,CAAC,OAAOH,KAAK,EAAE;MACd,OAAO,KAAK;;EAEhB","names":["jwt_decode","AuthorizationUtil","getBearerToken","localStorage","getItem","getDecodedBearerToken","Error","validateUserRoleForApp","token","requiredRole","decodedToken","roles","includes"],"sourceRoot":"","sources":["/home/pkocur/IdeaProjects/restaurant-manager-frontend/transaction-app/src/app/common/AuthorizationUtil.ts"],"sourcesContent":["import jwt_decode from 'jwt-decode';\n\nexport class AuthorizationUtil {\n\n  public static getBearerToken(): string | null {\n    return localStorage.getItem(\"bearerToken\")\n  }\n\n  public static getDecodedBearerToken(): any {\n    try {\n      return jwt_decode(<string>this.getBearerToken());\n    } catch (Error) {\n      return null;\n    }\n  }\n\n  public static validateUserRoleForApp(token: string, requiredRole: string): boolean {\n    try {\n      const decodedToken: any = jwt_decode(token);\n      const roles: string = decodedToken.roles;\n      return roles.includes(requiredRole)\n    } catch (Error) {\n      return false;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
