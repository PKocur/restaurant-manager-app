{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MealsComponent = class MealsComponent {\n  constructor(mainPanelService, formBuilder) {\n    this.mainPanelService = mainPanelService;\n    this.formBuilder = formBuilder;\n    this.checkoutForm = this.formBuilder.group({\n      name: '',\n      price: ''\n    });\n  }\n  onSubmit() {\n    this.addMeal({\n      \"name\": this.checkoutForm.value.name,\n      \"price\": Number(this.checkoutForm.value.price)\n    });\n    this.checkoutForm.reset();\n  }\n  ngOnInit() {\n    this.getMeals();\n    this.addMealModal = new window.bootstrap.Modal(document.getElementById('addMealModal'));\n  }\n  getMeals() {\n    this.mainPanelService.getMeals().subscribe(data => {\n      this.meals = data;\n    });\n  }\n  addMeal(meal) {\n    this.mainPanelService.addMeal(meal).subscribe(data => {\n      if (data) {\n        this.getMeals();\n      }\n    });\n  }\n  removeMeal(id) {\n    if (id) {\n      this.mainPanelService.removeMeal(id).subscribe(data => {\n        if (data) {\n          this.getMeals();\n        }\n      });\n    }\n  }\n  openAddMealModal() {\n    this.addMealModal.show();\n  }\n  closeAddMealModal() {\n    this.addMealModal.hide();\n  }\n};\nMealsComponent = __decorate([Component({\n  selector: 'app-meals',\n  templateUrl: './meals.component.html',\n  styleUrls: ['./meals.component.css']\n})], MealsComponent);\nexport { MealsComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAWxC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EASzBC,YAAoBC,gBAAkC,EAClCC,WAAwB;IADxB,qBAAgB,GAAhBD,gBAAgB;IAChB,gBAAW,GAAXC,WAAW;IAN/B,iBAAY,GAAG,IAAI,CAACA,WAAW,CAACC,KAAK,CAAC;MACpCC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE;KACR,CAAC;EAIF;EAEAC,QAAQ;IACN,IAAI,CAACC,OAAO,CAAC;MACX,MAAM,EAAE,IAAI,CAACC,YAAY,CAACC,KAAK,CAACL,IAAI;MACpC,OAAO,EAAEM,MAAM,CAAC,IAAI,CAACF,YAAY,CAACC,KAAK,CAACJ,KAAK;KAC9C,CAAC;IACF,IAAI,CAACG,YAAY,CAACG,KAAK,EAAE;EAC3B;EAGAC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,YAAY,GAAG,IAAIC,MAAM,CAACC,SAAS,CAACC,KAAK,CAC5CC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CACxC;EACH;EAEAN,QAAQ;IACN,IAAI,CAACZ,gBAAgB,CAACY,QAAQ,EAAE,CAACO,SAAS,CAACC,IAAI,IAAG;MAChD,IAAI,CAACC,KAAK,GAAGD,IAAI;IACnB,CAAC,CAAC;EACJ;EAEAd,OAAO,CAACgB,IAAmB;IACzB,IAAI,CAACtB,gBAAgB,CAACM,OAAO,CAACgB,IAAI,CAAC,CAACH,SAAS,CAACC,IAAI,IAAG;MACnD,IAAIA,IAAI,EAAE;QACR,IAAI,CAACR,QAAQ,EAAE;;IAEnB,CAAC,CAAC;EACJ;EAEAW,UAAU,CAACC,EAA6B;IACtC,IAAIA,EAAE,EAAE;MACN,IAAI,CAACxB,gBAAgB,CAACuB,UAAU,CAACC,EAAE,CAAC,CAACL,SAAS,CAACC,IAAI,IAAG;QACpD,IAAIA,IAAI,EAAE;UACR,IAAI,CAACR,QAAQ,EAAE;;MAEnB,CAAC,CAAC;;EAEN;EAEAa,gBAAgB;IACd,IAAI,CAACZ,YAAY,CAACa,IAAI,EAAE;EAC1B;EAEAC,iBAAiB;IACf,IAAI,CAACd,YAAY,CAACe,IAAI,EAAE;EAC1B;CACD;AA5DY9B,cAAc,eAL1BD,SAAS,CAAC;EACTgC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWjC,cAAc,CA4D1B;SA5DYA,cAAc","names":["Component","MealsComponent","constructor","mainPanelService","formBuilder","group","name","price","onSubmit","addMeal","checkoutForm","value","Number","reset","ngOnInit","getMeals","addMealModal","window","bootstrap","Modal","document","getElementById","subscribe","data","meals","meal","removeMeal","id","openAddMealModal","show","closeAddMealModal","hide","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/pkocur/IdeaProjects/restaurant-manager-frontend/restaurant-manager-frontend/src/app/component/meals/meals.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Meal} from \"../../model/meal\";\nimport {FormBuilder} from '@angular/forms';\nimport {MainPanelService} from \"../../service/main-panel.service\";\ndeclare var window: any;\n\n@Component({\n  selector: 'app-meals',\n  templateUrl: './meals.component.html',\n  styleUrls: ['./meals.component.css']\n})\nexport class MealsComponent implements OnInit {\n  meals!: Meal[];\n  addMealModal: any;\n\n  checkoutForm = this.formBuilder.group({\n    name: '',\n    price: ''\n  });\n\n  constructor(private mainPanelService: MainPanelService,\n              private formBuilder: FormBuilder) {\n  }\n\n  onSubmit(): void {\n    this.addMeal({\n      \"name\": this.checkoutForm.value.name,\n      \"price\": Number(this.checkoutForm.value.price)\n    });\n    this.checkoutForm.reset();\n  }\n\n\n  ngOnInit() {\n    this.getMeals();\n    this.addMealModal = new window.bootstrap.Modal(\n      document.getElementById('addMealModal')\n    );\n  }\n\n  getMeals() {\n    this.mainPanelService.getMeals().subscribe(data => {\n      this.meals = data;\n    })\n  }\n\n  addMeal(meal: Partial<Meal>) {\n    this.mainPanelService.addMeal(meal).subscribe(data => {\n      if (data) {\n        this.getMeals();\n      }\n    });\n  }\n\n  removeMeal(id: number | undefined | null) {\n    if (id) {\n      this.mainPanelService.removeMeal(id).subscribe(data => {\n        if (data) {\n          this.getMeals();\n        }\n      });\n    }\n  }\n\n  openAddMealModal() {\n    this.addMealModal.show();\n  }\n\n  closeAddMealModal() {\n    this.addMealModal.hide();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}